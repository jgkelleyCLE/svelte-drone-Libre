import { env } from 'node:process';
import getToken from './utils/get-token.js';
const nodeEnv = env.NODE_ENV ?? 'development';
const isTest = nodeEnv === 'test';
const isDev = nodeEnv === 'development';
const useProd = nodeEnv === 'production';
const functionsUrls = {
    production: 'https://api.sanity.io/',
    staging: 'https://api.sanity.work/',
    default: 'http://localhost:4567',
};
const blueprintsUrls = {
    production: 'https://api.sanity.io/',
    staging: 'https://api.sanity.work/',
    default: 'http://blueprints/',
};
const functionsUrl = new URL(functionsUrls[nodeEnv] ?? functionsUrls.default);
const blueprintsUrl = new URL(blueprintsUrls[nodeEnv] ?? blueprintsUrls.default);
export default {
    token: isDev || isTest ? 'token' : getToken({ prod: useProd }),
    server: {
        functions: functionsUrl,
        blueprints: blueprintsUrl,
    },
};
