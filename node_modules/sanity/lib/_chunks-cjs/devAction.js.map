{"version":3,"file":"devAction.js","sources":["../../src/_internal/cli/actions/app/devAction.ts"],"sourcesContent":["import {type CliCommandArguments, type CliCommandContext} from '@sanity/cli'\n\nimport {startDevServer} from '../../server/devServer'\nimport {gracefulServerDeath} from '../../util/servers'\nimport {getDevServerConfig, type StartDevServerCommandFlags} from '../dev/devAction'\n\nexport default async function startAppDevServer(\n  args: CliCommandArguments<StartDevServerCommandFlags>,\n  context: CliCommandContext,\n): Promise<void> {\n  const flags = args.extOptions\n  const {output, workDir, cliConfig} = context\n\n  // Try to load CLI configuration from sanity.cli.(js|ts)\n  const config = getDevServerConfig({\n    flags: {\n      ...flags,\n      port: flags.port || '3333',\n    },\n    workDir,\n    cliConfig,\n    output,\n  })\n\n  try {\n    await startDevServer(config)\n  } catch (err) {\n    gracefulServerDeath('dev', config.httpHost, config.httpPort, err)\n  }\n}\n"],"names":["startAppDevServer","args","context","flags","extOptions","output","workDir","cliConfig","config","getDevServerConfig","port","startDevServer","err","gracefulServerDeath","httpHost","httpPort"],"mappings":";;AAM8BA,eAAAA,kBAC5BC,MACAC,SACe;AACTC,QAAAA,QAAQF,KAAKG,YACb;AAAA,IAACC;AAAAA,IAAQC;AAAAA,IAASC;AAAAA,EAAAA,IAAaL,SAG/BM,SAASC,6BAAmB;AAAA,IAChCN,OAAO;AAAA,MACL,GAAGA;AAAAA,MACHO,MAAMP,MAAMO,QAAQ;AAAA,IACtB;AAAA,IACAJ;AAAAA,IACAC;AAAAA,IACAF;AAAAA,EAAAA,CACD;AAEG,MAAA;AACF,UAAMM,UAAAA,eAAeH,MAAM;AAAA,WACpBI,KAAK;AACZC,YAAAA,oBAAoB,OAAOL,OAAOM,UAAUN,OAAOO,UAAUH,GAAG;AAAA,EAAA;AAEpE;;"}